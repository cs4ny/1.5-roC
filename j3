#pragma config(Sensor, dgtl2,  rightEncoder,   sensorQuadEncoder)
#pragma config(Sensor, dgtl4,  leftEncoder,    sensorQuadEncoder)
#pragma config(Motor,  port2,           leftMotor,     tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port3,           rightMotor,    tmotorServoContinuousRotation, openLoop, reversed)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

// void: creating a function //

// First Function: forwardTime ( go straight ) //
// - wait for 2 secs -
// - set both sensor values to 0 -
// - while statement for 1650 secs -
// - if statements for straightening the robot -
// - set both motors at 0 -4nhm

void forwardTime(int speed)
{
	wait1Msec(1000);
	SensorValue[rightEncoder] = 0;
	SensorValue[leftEncoder] = 0;
	while(SensorValue[leftEncoder] < speed)
	{
		if(SensorValue[leftEncoder] > SensorValue[rightEncoder])
		{
			motor[rightMotor] = 127;
			motor[leftMotor] = 100;
		}
		if(SensorValue[rightEncoder] > SensorValue[leftEncoder])
		{
			motor[leftMotor] = 127;
			motor[rightMotor] = 100;
		}
		if(SensorValue[rightEncoder] == SensorValue[leftEncoder])
		{
			motor[leftMotor] = 127;
			motor[rightMotor] = 127;
		}

	}
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}

// Second Function: turnRight (turn right at 90 degree) //
// - wait 2 secs -
// - set both sensors to 0 -
// - while statement for 650 secs -
// - set both motors to 0 -

void turnRight()
{
	wait1Msec(1000);
	SensorValue[rightEncoder] = 0;
	SensorValue[leftEncoder] = 0;
	while(SensorValue(rightEncoder) < 560)
	{
		motor[rightMotor] = 127;
		motor[leftMotor]  = 0;
	}
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}

// Third Function: turnLeft (turn left at 90 degree) //
// - wait 2 secs -
// - set both sensors to 0 -
// - while statement for 650 secs -
// - set both motors to 0 -

void turnLeft()
{
	wait1Msec(1000);
	SensorValue[leftEncoder] = 0;
	SensorValue[rightEncoder] = 0;
	while(SensorValue(leftEncoder) < 560)
	{
		motor[rightMotor] = 0;
		motor[leftMotor]  = 127;
	}
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}


// Task Main: This is what the robot will do //


task main()
{	forwardTime (1000);
	turnLeft ();
	forwardTime(150);
	turnLeft();
	forwardTime(1150);
	turnRight();
	forwardTime(700);
	turnRight();
	forwardTime(1800);
	turnRight();
	forwardTime(1800);
	turnRight();
	forwardTime(1800);

	motor[rightMotor] = 0;
	motor[leftMotor]	= 0;
	wait1Msec(900);

	motor[rightMotor] = -127;
	motor[leftMotor]	= 127;
	wait1Msec(160);

	forwardTime (1650);
	turnLeft ();
	forwardTime(1650);
	turnLeft();
	forwardTime(1650);
	turnLeft();
	forwardTime(700);
	turnLeft();
	forwardTime(900);
	turnLeft();
	turnLeft();
	forwardTime(260);


}
